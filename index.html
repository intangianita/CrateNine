<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Amplop Realistis Interaktif</title>
  <style>
    * {margin:0;padding:0;box-sizing:border-box;}
    body {
      font-family: 'Georgia', serif;
      background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      overflow: hidden;
      padding: 20px;
    }

    /* --- hearts floating --- */
    .heart {
      position: fixed;
      bottom: -40px;
      font-size: 24px;
      animation: floatUp 6s linear forwards;
      opacity: 0.8;
      pointer-events: none;
    }
    @keyframes floatUp {
      0% {transform: translateY(0) scale(1); opacity:0.8;}
      50% {opacity:1;}
      100% {transform: translateY(-110vh) scale(1.6); opacity:0;}
    }

    /* Amplop style (dari kode awal) */
    .envelope-container {
      position: relative;
      cursor: pointer;
      transform-style: preserve-3d;
      transition: transform 0.3s ease;
    }
    .envelope-container:hover {transform: scale(1.02);}
    .envelope {
      width: 320px;
      height: 220px;
      background: linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%);
      border: 2px solid #e9ecef;
      position: relative;
      box-shadow: 0 8px 32px rgba(0,0,0,0.1), inset 0 1px 0 rgba(255,255,255,0.8);
      border-radius: 8px;
      overflow: hidden;
    }
    .envelope-back {
      position: absolute; top:0; left:0; width:100%; height:100%;
      background: linear-gradient(145deg, #ffffff 0%, #f1f3f4 100%);
      border-radius: 8px;
    }
    .envelope-flap {
      position: absolute; top:-2px; left:-2px;
      width:324px; height:140px;
      background: linear-gradient(145deg, #ffffff 0%, #f8f9fa 100%);
      border:2px solid #e9ecef; border-bottom:none;
      clip-path: polygon(0 0, 100% 0, 50% 85%);
      transform-origin:50% 0%;
      transition: transform 0.8s cubic-bezier(0.25,0.46,0.45,0.94);
      z-index:10;
      box-shadow:0 4px 16px rgba(0,0,0,0.1), inset 0 1px 0 rgba(255,255,255,0.8);
    }
    .envelope.opened .envelope-flap {transform: rotateX(-160deg);}
    .envelope-inner {
      position:absolute; top:8px; left:8px; right:8px; bottom:8px;
      background:linear-gradient(145deg,#f8f9fa 0%,#e9ecef 100%);
      border-radius:4px; box-shadow:inset 0 2px 8px rgba(0,0,0,0.1);
    }

    .letter {
      position:absolute;
      width:280px; height:380px;
      background:linear-gradient(145deg,#ffffff 0%,#fefefe 100%);
      border:1px solid #dee2e6; border-radius:6px;
      left:50%; top:50%;
      transform:translateX(-50%) translateY(200px);
      transition: transform 0.8s cubic-bezier(0.25,0.46,0.45,0.94);
      box-shadow:0 8px 32px rgba(0,0,0,0.15), inset 0 1px 0 rgba(255,255,255,0.8);
      z-index:5; padding:25px;
      opacity:0; overflow:hidden;
    }
    .letter.pulled-out {transform:translateX(-50%) translateY(-180px); opacity:1;}

    .letter-lines {position:absolute; top:80px; left:25px; right:25px; bottom:25px;}
    .letter-line {
      height:1px; background:linear-gradient(90deg,#e9ecef 0%,transparent 100%);
      margin:18px 0; opacity:0.6;
    }
    .letter-content {font-size:14px; line-height:1.8; color:#2c3e50; opacity:0; transition:opacity 0.6s ease 0.3s;}
    .letter.content-visible .letter-content {opacity:1;}

    .letter-header {text-align:center; margin-bottom:25px; padding-bottom:15px; border-bottom:2px solid #6c757d;}
    .letter-title {font-size:20px; font-weight:bold; color:#495057; margin-bottom:8px;}
    .letter-date {font-size:12px; color:#6c757d; font-style:italic;}
    .letter-body {text-align:justify; margin-bottom:25px;}
    .letter-signature {text-align:right; margin-top:35px; font-style:italic; color:#495057;}

    .stamp {
      position:absolute; top:15px; right:15px; width:50px; height:50px;
      background:linear-gradient(145deg,#dc3545 0%,#c82333 100%);
      border:3px solid #fff; border-radius:4px;
      display:flex; align-items:center; justify-content:center;
      color:#fff; font-size:12px; font-weight:bold;
      z-index:8;
    }
    .address-area {position:absolute; bottom:40px; left:20px; right:80px;}
    .address-line {height:2px; background:linear-gradient(90deg,#adb5bd 0%,transparent 80%); margin:12px 0; opacity:0.7;}

    .instructions {
      position:absolute; bottom:30px; left:50%; transform:translateX(-50%);
      background:rgba(255,255,255,0.9); padding:10px 20px; border-radius:20px;
      font-size:14px; color:#495057; box-shadow:0 4px 12px rgba(0,0,0,0.1);
    }
    .scroll-indicator {
      position:absolute; top:20px; left:50%; transform:translateX(-50%);
      background:rgba(255,255,255,0.95); padding:8px 16px; border-radius:15px;
      font-size:13px; color:#495057; opacity:0; transition:opacity 0.3s;
    }
    .scroll-indicator.visible {opacity:1;}
  </style>
</head>
<body>
  <audio id="bgMusic" src="music.mp3" loop></audio>
  <audio id="popSound" src="pop.wav"></audio>

  <div class="envelope-container" id="envelopeContainer">
    <div class="envelope" id="envelope">
      <div class="envelope-back"></div>
      <div class="envelope-inner"></div>
      <div class="envelope-flap"></div>

      <div class="stamp">üìÆ<br><span style="font-size:8px;">MAIL</span></div>
      <div class="address-area">
        <div class="address-line" style="width:85%;"></div>
        <div class="address-line" style="width:65%;"></div>
        <div class="address-line" style="width:75%;"></div>
        <div class="address-line" style="width:45%;"></div>
      </div>
    </div>

    <div class="letter" id="letter">
      <div class="letter-lines">
        <div class="letter-line"></div><div class="letter-line"></div>
        <div class="letter-line"></div><div class="letter-line"></div>
        <div class="letter-line"></div><div class="letter-line"></div>
        <div class="letter-line"></div><div class="letter-line"></div>
      </div>
      <div class="letter-content">
        <div class="letter-header">
          <div class="letter-title">Surat Istimewa</div>
          <div class="letter-date">Jakarta, 15 Desember 2024</div>
        </div>
        <div class="letter-body">
          <p><strong>Kepada yang terkasih,</strong></p>
          <p>Ini adalah surat digital interaktif dengan amplop realistis, musik, efek suara, dan latar hati bergerak.</p>
          <p>Semoga membawa senyum üòä</p>
        </div>
        <div class="letter-signature">Dengan cinta,<br><strong>‚ù§Ô∏è</strong></div>
      </div>
    </div>
  </div>

  <div class="scroll-indicator" id="scrollIndicator">üñ±Ô∏è Gunakan scroll</div>
  <div class="instructions">Klik amplop untuk membuka ‚Ä¢ Scroll ‚Üë‚Üì untuk surat</div>

  <script>
    const envelope = document.getElementById('envelope');
    const letter = document.getElementById('letter');
    const envelopeContainer = document.getElementById('envelopeContainer');
    const scrollIndicator = document.getElementById('scrollIndicator');
    const bgMusic = document.getElementById('bgMusic');
    const popSound = document.getElementById('popSound');
    let isOpened = false;
    let letterPosition = 0;

    envelopeContainer.addEventListener('click', () => {
      if (!isOpened) {
        envelope.classList.add('opened');
        letter.classList.add('pulled-out');
        isOpened = true;
        letterPosition = 50;
        setTimeout(()=>letter.classList.add('content-visible'),800);
        setTimeout(()=>scrollIndicator.classList.add('visible'),1000);

        // play sounds
        bgMusic.play().catch(()=>{});
        popSound.play();
      }
    });

    // floating hearts
    function createHeart() {
      const heart = document.createElement("span");
      heart.className = "heart";
      heart.textContent = "üíñ";
      heart.style.left = Math.random()*100 + "vw";
      heart.style.fontSize = (20+Math.random()*20) + "px";
      heart.style.animationDuration = (4+Math.random()*4) + "s";
      document.body.appendChild(heart);
      setTimeout(()=>heart.remove(),6000);
    }
    setInterval(createHeart, 1000);
  </script>
</body>
</html>
